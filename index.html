<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Delights Cake Shop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FFF9F5;
        }
        .heading {
            font-family: 'Playfair Display', serif;
        }
        .cake-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .cake-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .quantity-btn {
            transition: all 0.2s ease;
        }
        .quantity-btn:hover {
            background-color: #F9A8D4;
        }
        .order-btn {
            transition: all 0.3s ease;
        }
        .order-btn:hover {
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <header class="bg-gradient-to-r from-pink-100 to-pink-200 py-6 px-4 shadow-md">
        <div class="container mx-auto flex justify-center items-center">
            <div class="flex items-center">
                <svg class="w-10 h-10 text-pink-500" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10 2a4 4 0 00-4 4c0 .823.256 1.585.686 2.21l-.686.686a1 1 0 00-.293.707V11a1 1 0 001 1h6a1 1 0 001-1v-1.397a1 1 0 00-.293-.707l-.686-.686A4.002 4.002 0 0010 2zM5.5 16a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm9 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0z"></path>
                </svg>
                <h1 class="heading text-3xl font-bold ml-2 text-pink-800">Sweet Delights</h1>
            </div>
        </div>
    </header>

    <main class="container mx-auto py-10 px-4">
        <section class="mb-12 text-center">
            <h2 class="heading text-4xl font-bold text-pink-800 mb-4">Order Our Delicious Cakes</h2>
            <p class="text-gray-600 max-w-2xl mx-auto">Select from our range of handcrafted cakes made with the finest ingredients. Choose your favorites and specify the quantity for each.</p>
        </section>

        <!-- Cake Items - 2 per row -->
        <section class="mb-8">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Cake 1 -->
                <div class="cake-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="h-56 bg-pink-100 flex items-center justify-center">
                        <svg class="w-32 h-32 text-pink-500" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a3 3 0 01-3 3H4a3 3 0 01-3-3v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2zM5.94 19h12.12c.53 0 .94-.42.94-.95V18h-14v.05c0 .53.41.95.94.95zM12 5a1 1 0 00-1 1v1h2V6a1 1 0 00-1-1zm-7 9a5 5 0 0110 0v2H5v-2zm12 0a5 5 0 00-1.38-3.45A5 5 0 0119 14v2h-2v-2z"></path>
                        </svg>
                    </div>
                    <div class="p-6">
                        <h3 class="heading text-xl font-bold text-pink-800 mb-2">Kek Coklat Moist</h3>
                        <p class="text-gray-600 mb-4">Bayang kek yang bila potong je, coklat dia lembut-lembut masuk mulut - haaa, tu la kek coklat moist. Sedap gila sampai jilat garpu!</p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-pink-800 font-bold text-xl">RM15.00</span>
                            <div class="flex items-center">
                                <button class="quantity-btn bg-pink-200 text-pink-800 w-8 h-8 rounded-full flex items-center justify-center focus:outline-none" onclick="decreaseQuantity('cake1')">-</button>
                                <span id="cake1-quantity" class="mx-3 font-medium text-gray-800">0</span>
                                <button class="quantity-btn bg-pink-200 text-pink-800 w-8 h-8 rounded-full flex items-center justify-center focus:outline-none" onclick="increaseQuantity('cake1')">+</button>
                            </div>
                        </div>
                        <button class="add-to-cart bg-pink-500 text-white py-2 px-4 rounded-full w-full font-medium hover:bg-pink-600 transition duration-300" onclick="addToCart('Chocolate Delight', 15, 'cake1')">Add to Order</button>
                    </div>
                </div>

                <!-- Cake 2 -->
                <div class="cake-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="h-56 bg-pink-100 flex items-center justify-center overflow-hidden">
                        <img src="Best-Vanilla-Cake-Recipe-6.jpeg" 
                             alt="Vanilla Dream Cake" 
                             class="w-full h-full object-cover"
                             onerror="this.onerror=null; this.src='https://placehold.co/400x300/pink/white?text=Image+Not+Found';">
                    </div>
                    <div class="p-6">
                        <h3 class="heading text-xl font-bold text-pink-800 mb-2">Kek Coklat Cheese</h3>
                        <p class="text-gray-600 mb-4">Coklat dah cukup buat cair hati, tambah cheese pulak memang tak boleh move on. Kek ni memang combo win-win!</p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-pink-800 font-bold text-xl">RM17.00</span>
                            <div class="flex items-center">
                                <button class="quantity-btn bg-pink-200 text-pink-800 w-8 h-8 rounded-full flex items-center justify-center focus:outline-none" onclick="decreaseQuantity('cake2')">-</button>
                                <span id="cake2-quantity" class="mx-3 font-medium text-gray-800">0</span>
                                <button class="quantity-btn bg-pink-200 text-pink-800 w-8 h-8 rounded-full flex items-center justify-center focus:outline-none" onclick="increaseQuantity('cake2')">+</button>
                            </div>
                        </div>
                        <button class="add-to-cart bg-pink-500 text-white py-2 px-4 rounded-full w-full font-medium hover:bg-pink-600 transition duration-300" onclick="addToCart('Vanilla Dream', 17, 'cake2')">Add to Order</button>
                    </div>
                </div>

                <!-- Cake 3 -->
                <div class="cake-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="h-56 bg-pink-100 flex items-center justify-center">
                        <svg class="w-32 h-32 text-pink-500" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a3 3 0 01-3 3H4a3 3 0 01-3-3v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2zM5.94 19h12.12c.53 0 .94-.42.94-.95V18h-14v.05c0 .53.41.95.94.95zM12 5a1 1 0 00-1 1v1h2V6a1 1 0 00-1-1zm-7 9a5 5 0 0110 0v2H5v-2zm12 0a5 5 0 00-1.38-3.45A5 5 0 0119 14v2h-2v-2z"></path>
                        </svg>
                    </div>
                    <div class="p-6">
                        <h3 class="heading text-xl font-bold text-pink-800 mb-2">Kek Red Velvet</h3>
                        <p class="text-gray-600 mb-4">Red velvet ni lain macam dia punya vibe – warna merah dia dah menggoda, rasa dia pulak lembut, manis berkrim, siap dengan cheese leleh atas tu. Memang classy tapi sedap gila!</p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-pink-800 font-bold text-xl">RM17.00</span>
                            <div class="flex items-center">
                                <button class="quantity-btn bg-pink-200 text-pink-800 w-8 h-8 rounded-full flex items-center justify-center focus:outline-none" onclick="decreaseQuantity('cake3')">-</button>
                                <span id="cake3-quantity" class="mx-3 font-medium text-gray-800">0</span>
                                <button class="quantity-btn bg-pink-200 text-pink-800 w-8 h-8 rounded-full flex items-center justify-center focus:outline-none" onclick="increaseQuantity('cake3')">+</button>
                            </div>
                        </div>
                        <button class="add-to-cart bg-pink-500 text-white py-2 px-4 rounded-full w-full font-medium hover:bg-pink-600 transition duration-300" onclick="addToCart('Red Velvet', 17, 'cake3')">Add to Order</button>
                    </div>
                </div>

                <!-- Cake 4 -->
                <div class="cake-card bg-white rounded-lg overflow-hidden shadow-lg">
                    <div class="h-56 bg-pink-100 flex items-center justify-center">
                        <svg class="w-32 h-32 text-pink-500" fill="currentColor" viewBox="0 0 24 24">
                            <path d="M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a3 3 0 01-3 3H4a3 3 0 01-3-3v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2zM5.94 19h12.12c.53 0 .94-.42.94-.95V18h-14v.05c0 .53.41.95.94.95zM12 5a1 1 0 00-1 1v1h2V6a1 1 0 00-1-1zm-7 9a5 5 0 0110 0v2H5v-2zm12 0a5 5 0 00-1.38-3.45A5 5 0 0119 14v2h-2v-2z"></path>
                        </svg>
                    </div>
                    <div class="p-6">
                        <h3 class="heading text-xl font-bold text-pink-800 mb-2">Kek Pandan Cheese</h3>
                        <p class="text-gray-600 mb-4">Pandan dengan cheese? Jangan pelik – dua-dua ni bila bergabung, rasa dia memang lain macam. Kek dia lembut, cheese dia meleleh, makan sejuk pun syok!</p>
                        <div class="flex justify-between items-center mb-4">
                            <span class="text-pink-800 font-bold text-xl">RM15.00</span>
                            <div class="flex items-center">
                                <button class="quantity-btn bg-pink-200 text-pink-800 w-8 h-8 rounded-full flex items-center justify-center focus:outline-none" onclick="decreaseQuantity('cake4')">-</button>
                                <span id="cake4-quantity" class="mx-3 font-medium text-gray-800">0</span>
                                <button class="quantity-btn bg-pink-200 text-pink-800 w-8 h-8 rounded-full flex items-center justify-center focus:outline-none" onclick="increaseQuantity('cake4')">+</button>
                            </div>
                        </div>
                        <button class="add-to-cart bg-pink-500 text-white py-2 px-4 rounded-full w-full font-medium hover:bg-pink-600 transition duration-300" onclick="addToCart('Lemon Bliss', 15, 'cake4')">Add to Order</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Order Summary - Full width -->
        <section class="bg-white rounded-lg shadow-lg p-6 mb-8 w-full">
            <h3 class="heading text-2xl font-bold text-pink-800 mb-4">Your Order Summary</h3>
            <div id="cart-items" class="mb-4">
                <p class="text-gray-500 italic">Your cart is empty. Add some delicious cakes!</p>
            </div>
            <div class="flex justify-between items-center border-t border-gray-200 pt-4">
                <span class="text-lg font-bold text-gray-800">Total:</span>
                <span id="total-price" class="text-xl font-bold text-pink-800">RM0.00</span>
            </div>
        </section>

        <!-- Customer Information - Full width -->
        <section class="bg-white rounded-lg shadow-lg p-6 w-full">
            <h3 class="heading text-2xl font-bold text-pink-800 mb-4">Customer Information</h3>
            <form id="order-form" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="name" class="block text-gray-700 mb-1">Full Name</label>
                        <input type="text" id="name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
                    </div>
                    <div>
                        <label for="email" class="block text-gray-700 mb-1">Email</label>
                        <input type="email" id="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
                    </div>
                    <div>
                        <label for="phone" class="block text-gray-700 mb-1">Phone Number</label>
                        <input type="tel" id="phone" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
                    </div>
                    <div>
                        <label for="delivery-date" class="block text-gray-700 mb-1">Delivery Date</label>
                        <input type="date" id="delivery-date" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required>
                    </div>
                </div>
                <div>
                    <label for="address" class="block text-gray-700 mb-1">Delivery Address</label>
                    <textarea id="address" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500" required></textarea>
                </div>
                <div>
                    <label for="notes" class="block text-gray-700 mb-1">Special Instructions (Optional)</label>
                    <textarea id="notes" rows="2" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500"></textarea>
                </div>
                <button type="submit" class="order-btn bg-pink-600 text-white py-3 px-6 rounded-full font-medium text-lg hover:bg-pink-700 transition duration-300 w-full md:w-auto">Place Order</button>
            </form>
        </section>
    </main>

    <footer class="bg-pink-800 text-white py-10 px-4 mt-16">
        <div class="container mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <h4 class="heading text-xl font-bold mb-4">Sweet Delights</h4>
                <p class="text-pink-200">Handcrafted cakes made with love and the finest ingredients for all your special occasions.</p>
            </div>
            <div>
                <h4 class="heading text-xl font-bold mb-4">Contact Us</h4>
                <p class="text-pink-200">123 Bakery Street<br>Cake Town, CT 12345</p>
                <p class="text-pink-200 mt-2">Phone: (555) 123-4567<br>Email: info@sweetdelights.com</p>
            </div>
            <div>
                <h4 class="heading text-xl font-bold mb-4">Hours</h4>
                <p class="text-pink-200">Monday - Friday: 8am - 6pm<br>Saturday: 9am - 5pm<br>Sunday: 10am - 3pm</p>
            </div>
        </div>
        <div class="container mx-auto border-t border-pink-700 mt-8 pt-6 text-center text-pink-200">
            <p>&copy; 2023 Sweet Delights Cake Shop. All rights reserved.</p>
        </div>
    </footer>

    <!-- Order Confirmation Modal -->
    <div id="order-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg p-8 max-w-md w-full">
            <h3 class="heading text-2xl font-bold text-pink-800 mb-4">Order Confirmation</h3>
            <p class="text-gray-700 mb-6">Thank you for your order! We've received your details and will contact you shortly to confirm.</p>
            <div id="order-details" class="mb-6 text-gray-700"></div>
            <button id="close-modal" class="bg-pink-600 text-white py-2 px-6 rounded-full font-medium hover:bg-pink-700 transition duration-300 w-full">Close</button>
        </div>
    </div>

    <script>
        // Initialize cart
        let cart = [];
        
        // Quantity management
        function increaseQuantity(cakeId) {
            const quantityElement = document.getElementById(`${cakeId}-quantity`);
            let quantity = parseInt(quantityElement.textContent);
            quantityElement.textContent = quantity + 1;
        }
        
        function decreaseQuantity(cakeId) {
            const quantityElement = document.getElementById(`${cakeId}-quantity`);
            let quantity = parseInt(quantityElement.textContent);
            if (quantity > 0) {
                quantityElement.textContent = quantity - 1;
            }
        }
        
        // Add to cart
        function addToCart(cakeName, price, cakeId) {
            const quantity = parseInt(document.getElementById(`${cakeId}-quantity`).textContent);
            
            if (quantity === 0) {
                alert("Please select at least 1 cake to add to your order.");
                return;
            }
            
            // Check if item already in cart
            const existingItemIndex = cart.findIndex(item => item.id === cakeId);
            
            if (existingItemIndex !== -1) {
                cart[existingItemIndex].quantity += quantity;
            } else {
                cart.push({
                    id: cakeId,
                    name: cakeName,
                    price: price,
                    quantity: quantity
                });
            }
            
            // Reset quantity display
            document.getElementById(`${cakeId}-quantity`).textContent = "0";
            
            // Update cart display
            updateCartDisplay();
            
            // Show confirmation
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg transition-opacity duration-500';
            toast.textContent = `${quantity} ${cakeName} added to your order!`;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 500);
            }, 2000);
        }
        
        // Update cart display
        function updateCartDisplay() {
            const cartElement = document.getElementById('cart-items');
            const totalElement = document.getElementById('total-price');
            
            if (cart.length === 0) {
                cartElement.innerHTML = '<p class="text-gray-500 italic">Your cart is empty. Add some delicious cakes!</p>';
                totalElement.textContent = 'RM0.00';
                return;
            }
            
            let cartHTML = '';
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;
                
                cartHTML += `
                <div class="flex justify-between items-center py-2 border-b border-gray-100">
                    <div>
                        <span class="font-medium">${item.name}</span>
                        <span class="text-gray-600 text-sm ml-2">x${item.quantity}</span>
                    </div>
                    <div class="flex items-center">
                        <span class="text-pink-800 font-medium">RM${itemTotal.toFixed(2)}</span>
                        <button class="ml-3 text-gray-400 hover:text-red-500" onclick="removeFromCart('${item.id}')">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                </div>
                `;
            });

            // Check if all 4 cake types are in the cart
            const hasAllCakes = ['cake1', 'cake2', 'cake3', 'cake4'].every(id => 
                cart.some(item => item.id === id)
            );

            if (hasAllCakes) {
                total = 60; // Apply special discount
                cartHTML += `
                <div class="py-2 border-b border-gray-100 text-green-600 font-medium">
                    Special discount applied! All 4 cakes for RM60
                </div>
                `;
            }
            
            cartElement.innerHTML = cartHTML;
            totalElement.textContent = `RM${total.toFixed(2)}`;
        }
        
        // Remove from cart
        function removeFromCart(cakeId) {
            cart = cart.filter(item => item.id !== cakeId);
            updateCartDisplay();
        }
        
     // Form submission
document.getElementById('order-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    if (cart.length === 0) {
        alert("Your cart is empty. Please add some cakes before placing an order.");
        return;
    }
    
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;
    const address = document.getElementById('address').value;
    const deliveryDate = document.getElementById('delivery-date').value;
    const notes = document.getElementById('notes').value;
    
    // Calculate total
    let total = 0;
    const hasAllCakes = ['cake1', 'cake2', 'cake3', 'cake4'].every(id => 
        cart.some(item => item.id === id)
    );
    
    if (hasAllCakes) {
        total = 60; // Special discount
    } else {
        cart.forEach(item => {
            total += item.price * item.quantity;
        });
    }
    
    // Prepare order items as a string
    const orderItems = cart.map(item => `${item.name} x ${item.quantity}`).join(', ');
    
    // Send data to Google Sheets
    fetch('https://script.google.com/macros/s/AKfycbyfdFV7mjbsx2Wn89_c1mlsfepVTKbgBk5kXYtEkLaqmzXEOlwO_jNeyEmZ-ptFmesi/exec', {
        method: 'POST',
        mode: 'no-cors',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify({
            name: name,
            email: email,
            phone: phone,
            address: address,
            deliveryDate: deliveryDate,
            notes: notes,
            orderItems: orderItems,
            total: total.toFixed(2),
            timestamp: new Date().toLocaleString()
        })
    })
    .then(() => {
        // Show success modal
        let orderDetailsHTML = `
            <p><strong>Name:</strong> ${name}</p>
            <p><strong>Email:</strong> ${email}</p>
            <p><strong>Phone:</strong> ${phone}</p>
            <p><strong>Delivery Address:</strong> ${address}</p>
            <p><strong>Delivery Date:</strong> ${deliveryDate}</p>
            <p class="mt-4 font-bold">Order Items:</p>
            <ul class="list-disc pl-5 mt-2">
        `;
        
        cart.forEach(item => {
            orderDetailsHTML += `<li>${item.name} x ${item.quantity} - RM${(item.price * item.quantity).toFixed(2)}</li>`;
        });
        
        if (hasAllCakes) {
            orderDetailsHTML += `<li class="font-bold">Special Discount: All 4 cakes for RM60</li>`;
        }
        
        orderDetailsHTML += `</ul><p class="mt-4 font-bold">Total: RM${total.toFixed(2)}</p>`;
        
        document.getElementById('order-details').innerHTML = orderDetailsHTML;
        document.getElementById('order-modal').classList.remove('hidden');
        
        // Reset form and cart
        this.reset();
        cart = [];
        updateCartDisplay();
    })
    .catch(error => {
        console.error('Error:', error);
        alert('There was an error submitting your order. Please try again.');
    });
});
        
        // Close modal
        document.getElementById('close-modal').addEventListener('click', function() {
            document.getElementById('order-modal').classList.add('hidden');
        });
        
        // Set minimum date for delivery (tomorrow)
        const tomorrow = new Date();
        tomorrow.setDate(tomorrow.getDate() + 1);
        document.getElementById('delivery-date').min = tomorrow.toISOString().split('T')[0];
    </script>
</body>
</html>